{"remainingRequest":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/babel-loader/lib/index.js!/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aqamine/Documents/GitHub/gigsy/admin_f/src/views/auth/loginUser.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/src/views/auth/loginUser.vue","mtime":1651454554702},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/babel.config.js","mtime":1651345758829},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/cache-loader/dist/cjs.js","mtime":1651345598852},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/babel-loader/lib/index.js","mtime":1651345599940},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/cache-loader/dist/cjs.js","mtime":1651345598852},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/vue-loader-v16/dist/index.js","mtime":1651345599934}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcWFtaW5lL0RvY3VtZW50cy9HaXRIdWIvZ2lnc3kvYWRtaW5fZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKCnJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9jc3MvYXV0aC9hdXRoLmNzcyIpOwoKaW1wb3J0IEJhc2VCdXR0b24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy91aS9hdXRoL0Jhc2VCdXR0b24udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJhc2VCdXR0b246IEJhc2VCdXR0b24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgZnJvbUlzVmFsaWQ6IHRydWUsCiAgICAgIGlzTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYWN0aW9uUGF5bG9hZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvL3Jlc3QKICAgICAgICAgICAgICAgIF90aGlzLmZyb21Jc1ZhbGlkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRFcnJvcnMnLCAnJyk7IC8vdmFsaWRhdGlvbgoKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5wYXNzd29yZCA9PT0gJycgfHwgIV90aGlzLmVtYWlsLmluY2x1ZGVzKCdAJykgfHwgX3RoaXMuZW1haWwgPT09ICcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuc2hvd0FsZXJ0KCdlcnJvcicsICdDb21wbMOpdGVyIGxlcyBpbmZvcm1hdGlvbnMgdXRpbGlzYXRldXInKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIC8vU3VibWl0CiAgICAgICAgICAgICAgICBhY3Rpb25QYXlsb2FkID0gewogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ2luJywgYWN0aW9uUGF5bG9hZCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRFcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5zaG93QWxlcnQoJ3N1Y2Nlc3MnLCAnQ29ubmV4aW9uIHLDqXVzc2llJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2Rhc2hib2FyZCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuc2hvd0FsZXJ0KCdlcnJvcicsICdFbWFpbCBvdSBtb3QgZGUgcGFzc2UgaW5jb3JyZWN0JykpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;AA2BAA,OAAM,CAAG,gCAAH,CAAN;;AACA,OAAOC,UAAP,MAAuB,yCAAvB;AAEA,eAAe;EACXC,UAAU,EAAC;IAACD,UAAU,EAAVA;EAAD,CADA;EAEXE,IAFW,kBAEL;IACF,OAAM;MACFC,KAAK,EAAE,EADL;MAEFC,QAAQ,EAAC,EAFP;MAGFC,WAAW,EAAE,IAHX;MAIFC,SAAS,EAAC;IAJR,CAAN;EAMH,CATU;EAUXC,OAAO,EAAC;IACEC,UADF,wBACc;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACd;gBACA,KAAI,CAACH,WAAL,GAAmB,IAAnB;;gBACA,KAAI,CAACI,MAAL,CAAYC,MAAZ,CAAmB,WAAnB,EAA+B,EAA/B,EAHc,CAId;;;gBAJc,MAKV,KAAI,CAACN,QAAL,KAAkB,EAAlB,IAAwB,CAAC,KAAI,CAACD,KAAL,CAAWQ,QAAX,CAAoB,GAApB,CAAzB,IAAqD,KAAI,CAACR,KAAL,KAAe,EAL1D;kBAAA;kBAAA;gBAAA;;gBAAA,iCAMH,KAAI,CAACS,SAAL,CAAe,OAAf,EAAuB,wCAAvB,CANG;;cAAA;gBAQd;gBACMC,aATQ,GASQ;kBACdV,KAAK,EAAE,KAAI,CAACA,KADE;kBAEdC,QAAQ,EAAE,KAAI,CAACA;gBAFD,CATR;gBAcV,KAAI,CAACE,SAAL,GAAiB,IAAjB;gBAdU;gBAAA,OAeJ,KAAI,CAACG,MAAL,CAAYK,QAAZ,CAAqB,OAArB,EAA6BD,aAA7B,CAfI;;cAAA;gBAgBV,KAAI,CAACP,SAAL,GAAiB,KAAjB;;gBAhBU,IAkBN,KAAI,CAACG,MAAL,CAAYM,OAAZ,CAAoBC,SAlBd;kBAAA;kBAAA;gBAAA;;gBAmBN,KAAI,CAACJ,SAAL,CAAe,SAAf,EAAyB,mBAAzB;;gBACA,KAAI,CAACK,OAAL,CAAaC,OAAb,CAAqB;kBAACC,IAAG,EAAI;gBAAR,CAArB;;gBApBM;gBAAA;;cAAA;gBAAA,iCAsBC,KAAI,CAACP,SAAL,CAAe,OAAf,EAAuB,iCAAvB,CAtBD;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAyBlB;EA1BI;AAVG,CAAf","names":["require","BaseButton","components","data","email","password","fromIsValid","isLoading","methods","submitForm","$store","commit","includes","showAlert","actionPayload","dispatch","getters","getErrors","$router","replace","name"],"sourceRoot":"","sources":["/Users/aqamine/Documents/GitHub/gigsy/admin_f/src/views/auth/loginUser.vue"],"sourcesContent":["<template>\n    <section class=\"login-zone rounded-end\">\n                    <form @submit.prevent=\"submitForm\" v-if=\"!isLoading\" >\n                        <div class=\"mb-3 \">\n                            <label class=\"form-label\" for=\"username_emial\">E-mail <i class=\"fa fa-envelope\"></i></label>\n                            <input type=\"text\" v-model.trim=\"email\" name=\"login\" id=\"username_emial\" class=\"form-control rounded-0\">\n                        </div>\n                        <div class=\"mb-3\">\n                            <label class=\"form-label\" for=\"password\">Le mot de passe <i class=\"fa fa-key\"></i></label>\n                            <input type=\"password\" v-model.trim=\"password\" name=\"password\" id=\"password\" class=\"form-control rounded-0\">\n                        </div>\n                        <div class=\"mb-2 text-center\">\n                            <base-button >Connexion <i class=\"fa fa-door-open\"></i></base-button>\n                        </div>\n\n                        <div class=\"mb-2 text-center\">\n                            <base-button link to=\"register\">S'inscrire <i class=\"fa fa-door-open\"></i></base-button>\n                        </div>\n                    </form>\n                    <!-- spinner-here -->\n                    <warning-spinner v-else></warning-spinner>\n                    <hr class=\"HrLine\">\n                    <div class=\"text-secondary copyright-text text-center\">Copyright 2022 by AQAMINE. All Rights Reserved.</div>\n                </section>\n</template>\n\n<script>\nrequire (\"../../assets/css/auth/auth.css\");\nimport BaseButton from '../../components/ui/auth/BaseButton.vue';\n\nexport default {\n    components:{BaseButton},\n    data(){\n        return{\n            email: '',\n            password:'',\n            fromIsValid: true,\n            isLoading:false\n        };\n    },\n    methods:{\n        async submitForm(){\n            //rest\n            this.fromIsValid = true;\n            this.$store.commit('setErrors','');\n            //validation\n            if (this.password === '' || !this.email.includes('@') || this.email === ''){\n                return this.showAlert('error','Compléter les informations utilisateur');\n            }\n            //Submit\n            const actionPayload = {\n                    email: this.email,\n                    password: this.password,\n                    \n                };\n                this.isLoading = true;\n                await this.$store.dispatch('login',actionPayload);\n                this.isLoading = false;\n\n                if(!this.$store.getters.getErrors){\n                    this.showAlert('success','Connexion réussie');\n                    this.$router.replace({name : 'dashboard'});\n                }else{\n                    return this.showAlert('error','Email ou mot de passe incorrect');\n                }\n\n        }\n    }\n}\n</script>\n"]}]}