{"remainingRequest":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/babel-loader/lib/index.js!/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aqamine/Documents/GitHub/gigsy/admin_f/src/views/users/UsersList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/src/views/users/UsersList.vue","mtime":1652395194952},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/babel.config.js","mtime":1651345758829},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/cache-loader/dist/cjs.js","mtime":1651345598852},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/babel-loader/lib/index.js","mtime":1651345599940},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/cache-loader/dist/cjs.js","mtime":1651345598852},{"path":"/Users/aqamine/Documents/GitHub/gigsy/admin_f/node_modules/vue-loader-v16/dist/index.js","mtime":1651345599934}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcWFtaW5lL0RvY3VtZW50cy9HaXRIdWIvZ2lnc3kvYWRtaW5fZi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IFVzZXJzRmlsdGVyIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvdXNlcnMvVXNlcnNGaWx0ZXIudnVlIjsKaW1wb3J0IEJhc2VUYWJsZSBmcm9tICIuLi8uLi9jb21wb25lbnRzL3VpL3RhYmxlcy9CYXNlVGFibGUudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFVzZXJzRmlsdGVyOiBVc2Vyc0ZpbHRlciwKICAgIEJhc2VUYWJsZTogQmFzZVRhYmxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAga2V5d29yZDogJycsCiAgICAgIGRlbGV0ZUlkOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZFVzZXJzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93UmVxdWVzdFJlc3VsdDogZnVuY3Rpb24gc2hvd1JlcXVlc3RSZXN1bHQoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzWyd1c2Vycy9lcnJvcnMnXSkgewogICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdlcnJvcicsIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3VzZXJzL2Vycm9ycyddKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXJzL3NldEVycm9ycycsIG51bGwpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbJ3VzZXJzL3N1Y2Nlc3MnXSkgewogICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdzdWNjZXNzJywgdGhpcy4kc3RvcmUuZ2V0dGVyc1sndXNlcnMvc3VjY2VzcyddKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXJzL3NldFN1Y2Nlc3MnLCBudWxsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCiAgICBsb2FkVXNlcnM6IGZ1bmN0aW9uIGxvYWRVc2VycygpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZWZyZXNoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlZnJlc2ggPSBfYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgX2FyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlcnMvbG9hZFVzZXJzJywgewogICAgICAgICAgICAgICAgICBmb3JjZVJlZnJlc2g6IHJlZnJlc2gKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93UmVxdWVzdFJlc3VsdCgpOwoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcGFzc1VzZXJJZDogZnVuY3Rpb24gcGFzc1VzZXJJZChpZCkgewogICAgICB0aGlzLmRlbGV0ZUlkID0gaWQ7CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgndXNlcnMvZGVsZXRlVXNlcicsIHsKICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMi5kZWxldGVJZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzMi5zaG93UmVxdWVzdFJlc3VsdCgpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzMi5kZWxldGVJZCA9IG51bGw7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXJzOiBmdW5jdGlvbiB1c2VycygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3VzZXJzL3VzZXJzJ107CiAgICB9LAogICAgaGFzZVVzZXJzOiBmdW5jdGlvbiBoYXNlVXNlcnMoKSB7CiAgICAgIHJldHVybiAhdGhpcy5pc0xvYWRpbmcgJiYgdGhpcy4kc3RvcmUuZ2V0dGVyc1sndXNlcnMvaGFzVXNlcnMnXTsKICAgIH0sCiAgICBmaWx0cmVkVXNlcnM6IGZ1bmN0aW9uIGZpbHRyZWRVc2VycygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy51c2Vycy5maWx0ZXIoZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICByZXR1cm4gdXNlci5mdWxsbmFtZS5tYXRjaChfdGhpczMua2V5d29yZCkgfHwgdXNlci5lbWFpbC5tYXRjaChfdGhpczMua2V5d29yZCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;AAsCA,OAAOA,WAAP,MAAwB,wCAAxB;AACA,OAAOC,SAAP,MAAsB,0CAAtB;AAEA,eAAe;EACXC,UAAU,EAAC;IAACF,WAAW,EAAXA,WAAD;IAAaC,SAAS,EAATA;EAAb,CADA;EAEXE,IAFW,kBAEL;IACF,OAAM;MACFC,SAAS,EAAE,KADT;MAEFC,OAAO,EAAC,EAFN;MAGFC,QAAQ,EAAC;IAHP,CAAN;EAOH,CAVU;EAWXC,OAXW,qBAWF;IACL,KAAKC,SAAL;EAEH,CAdU;EAeXC,OAAO,EAAC;IACJC,iBADI,+BACe;MACf,IAAG,KAAKC,MAAL,CAAYC,OAAZ,CAAoB,cAApB,CAAH,EAAuC;QACnC,KAAKC,SAAL,CAAe,OAAf,EAAuB,KAAKF,MAAL,CAAYC,OAAZ,CAAoB,cAApB,CAAvB;QACA,KAAKD,MAAL,CAAYG,MAAZ,CAAmB,iBAAnB,EAAuC,IAAvC;MACH,CAHD,MAGM,IAAG,KAAKH,MAAL,CAAYC,OAAZ,CAAoB,eAApB,CAAH,EAAwC;QAC1C,KAAKC,SAAL,CAAe,SAAf,EAAyB,KAAKF,MAAL,CAAYC,OAAZ,CAAoB,eAApB,CAAzB;QACA,KAAKD,MAAL,CAAYG,MAAZ,CAAmB,kBAAnB,EAAwC,IAAxC;MACH,CAHK,MAGD;QAAC;MAAO;IAChB,CATG;IAUEN,SAVF,uBAU4B;MAAA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAhBO,OAAgB,0EAAN,KAAM;gBAC5B,KAAI,CAACX,SAAL,GAAiB,IAAjB;gBAD4B;gBAAA,OAEtB,KAAI,CAACO,MAAL,CAAYK,QAAZ,CAAqB,iBAArB,EAAwC;kBAACC,YAAY,EAAEF;gBAAf,CAAxC,CAFsB;;cAAA;gBAG5B,KAAI,CAACL,iBAAL;;gBACA,KAAI,CAACN,SAAL,GAAiB,KAAjB;;cAJ4B;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAK/B,CAfG;IAgBJc,UAhBI,sBAgBOC,EAhBP,EAgBU;MACV,KAAKb,QAAL,GAAgBa,EAAhB;IACH,CAlBG;IAmBEC,UAnBF,wBAmBc;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACd,MAAI,CAAChB,SAAL,GAAiB,IAAjB;gBADc;gBAAA,OAER,MAAI,CAACO,MAAL,CAAYK,QAAZ,CAAqB,kBAArB,EAA0C;kBAAEG,EAAE,EAAE,MAAI,CAACb;gBAAX,CAA1C,CAFQ;;cAAA;gBAGd,MAAI,CAACI,iBAAL;;gBACA,MAAI,CAACN,SAAL,GAAiB,KAAjB;gBAEA,MAAI,CAACE,QAAL,GAAgB,IAAhB;;cANc;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOlB;EA1BI,CAfG;EA2CXe,QAAQ,EAAC;IACLC,KADK,mBACE;MACH,OAAO,KAAKX,MAAL,CAAYC,OAAZ,CAAoB,aAApB,CAAP;IACH,CAHI;IAILW,SAJK,uBAIM;MACP,OAAO,CAAC,KAAKnB,SAAN,IAAmB,KAAKO,MAAL,CAAYC,OAAZ,CAAoB,gBAApB,CAA1B;IACH,CANI;IAOLY,YAPK,0BAOS;MAAA;;MACV,OAAO,KAAKF,KAAL,CAAWG,MAAX,CAAkB,cAAG,EAAK;QAC7B,OAAOC,IAAI,CAACC,QAAL,CAAcC,KAAd,CAAoB,MAAI,CAACvB,OAAzB,KAAqCqB,IAAI,CAACG,KAAL,CAAWD,KAAX,CAAiB,MAAI,CAACvB,OAAtB,CAA5C;MACH,CAFM,CAAP;IAGJ;EAXK;AA3CE,CAAf","names":["UsersFilter","BaseTable","components","data","isLoading","keyword","deleteId","created","loadUsers","methods","showRequestResult","$store","getters","showAlert","commit","refresh","dispatch","forceRefresh","passUserId","id","deleteUser","computed","users","haseUsers","filtredUsers","filter","user","fullname","match","email"],"sourceRoot":"","sources":["/Users/aqamine/Documents/GitHub/gigsy/admin_f/src/views/users/UsersList.vue"],"sourcesContent":["<template>\n    <div>\n        <delete-dialog title=\"avertissement\" command=\"Supprimé\" @deleteFromModal=\"deleteUser\"><h5>Vous voulez vraiment supprimer cet utilisateur</h5></delete-dialog>\n        <section>\n            <base-card :shadow=\"true\" title=\" List des utilisateurs \">\n                <users-filter  @forceRefresh=\"loadUsers\" v-model=\"keyword\" ></users-filter>\n            </base-card>\n        </section>\n        <section>\n            <base-card class=\"mt-3\">\n            <warning-spinner v-if=\"isLoading\"></warning-spinner>\n                <base-table v-else-if=\"haseUsers\">\n                    <template v-slot:default>\n                        <th >#</th>\n                        <th >Nom complet</th>\n                        <th >E-mail</th>\n                        <th >Modifier</th>\n                        <th >Supprimer</th>\n                    </template>\n                    <template v-slot:tableBody>\n                    \n                        <tr v-for=\"user in filtredUsers\" :key=\"user.id\">\n                            <th scope=\"row\">{{user.id}}</th>\n                            <td>{{user.fullname}}</td>\n                            <td>{{user.email}}</td>\n                            <td><rounded-button type=\"success\"><i class=\"fa fa-edit\"></i></rounded-button></td>\n                            <td><rounded-button data-bs-toggle=\"modal\" data-bs-target=\"#showMessageModal\" type=\"danger\" @click=\"passUserId(user.id)\"><i class=\"fa fa-trash\"></i></rounded-button></td>\n                        </tr>\n                    </template>\n                </base-table>\n                <h4 class=\"text-secondary\" v-else>Aucun utilisateur trouvé</h4>\n            </base-card>\n        </section>\n        \n    </div>\n</template>\n\n<script>\nimport UsersFilter from \"../../components/users/UsersFilter.vue\"\nimport BaseTable from \"../../components/ui/tables/BaseTable.vue\"\n\nexport default {\n    components:{UsersFilter,BaseTable},\n    data(){\n        return{\n            isLoading: false,\n            keyword:'',\n            deleteId:null,\n            \n\n        }\n    },\n    created(){\n        this.loadUsers();\n        \n    },\n    methods:{\n        showRequestResult(){\n            if(this.$store.getters['users/errors']){\n                this.showAlert('error',this.$store.getters['users/errors']);\n                this.$store.commit('users/setErrors' , null);\n            }else if(this.$store.getters['users/success']){\n                this.showAlert('success',this.$store.getters['users/success']);\n                this.$store.commit('users/setSuccess' , null);\n            }else{return;}\n        },\n        async loadUsers(refresh = false){\n            this.isLoading = true;\n            await this.$store.dispatch('users/loadUsers', {forceRefresh: refresh});\n            this.showRequestResult();\n            this.isLoading = false;\n        },\n        passUserId(id){\n            this.deleteId = id;\n        },\n        async deleteUser(){\n            this.isLoading = true\n            await this.$store.dispatch('users/deleteUser' , { id: this.deleteId });\n            this.showRequestResult();\n            this.isLoading = false;\n\n            this.deleteId = null;\n        }\n    },\n    computed:{\n        users(){\n            return this.$store.getters['users/users'];\n        },\n        haseUsers(){\n            return !this.isLoading && this.$store.getters['users/hasUsers'];\n        },\n        filtredUsers(){\n            return this.users.filter(user => {\n                return user.fullname.match(this.keyword) || user.email.match(this.keyword)\n            })\n        }\n        \n        \n    }\n    \n}\n</script>\n\n\n<style scoped>\n\ntr {\n    width: 100%;\n    display: inline-table;\n    table-layout: fixed;\n}\n</style>"]}]}